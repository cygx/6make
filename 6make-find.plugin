sub find(*@paths, :$name, Bool :$f, Bool :$noerr) {
    my $err = $noerr ?? $*SPEC.devnull !! '-';
    run('find', |@paths, |$_, :out, :$err).out.slurp-rest.lines given [
        |($f ?? <-type f> !! Empty),
        |(@$name and
            '\(', |@$name.map({ slip <<-o -name "$_">> }).[1..*], '\)')
    ];
}

&find;
