sub find($path, *@patterns, Bool :$f) {
    run('find', $path, |$_, :out).out.slurp-rest.lines given [
        |($f ?? <-type f> !! Empty),
        |(@patterns and
            '\(', |@patterns.map({ slip <<-o -name "$_">> }).[1..*], '\)')
    ];
}

&find;
